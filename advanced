#!/usr/bin/bash

getProcessorsNumber () { 
local returnValue
#returnValue=$(grep -c ^processor /proc/cpuinfo)
returnValue=$(awk '/^processor/ {count++}END{print count}' /proc/cpuinfo)
echo "$returnValue"    
}

openFilesFunc () {
echo "something"
}

fileSearch () { 
if [ -z "$SOURCE" -o  -z "$DESTINATION" ]; then
    echo "This option requires exactly TWO arguments."
    exit 0
fi
local queryResult
queryResult=$(find . ~/ -name "$SOURCE")
if [ -n "$queryResult" ]; then
    echo "$queryResult"
fi
}
SOURCE=
DESTINATION=
while getopts “pob:” OPTION
do
    case $OPTION in
        p) getProcessorsNumber;;
        o) openFilesFunc;;
        b) SOURCE=$OPTARG
           eval "DESTINATION=\$$((OPTIND))"
           fileSearch;;
    esac
done
